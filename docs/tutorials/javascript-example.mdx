---
title: "Super Quick Start - JavaScript/Node.js Tutorial"
description: "Deploy a Node.js application to dstack TEE infrastructure"
---

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">

  <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
    <h2 className="font-semibold text-blue-900 mb-2">What You'll Build</h2>
    <p className="mb-2">A secure Express.js API with:</p>
    <ul className="list-disc list-inside text-sm text-blue-900 space-y-1">
      <li>Health monitoring endpoints</li>
      <li>Secure data processing</li>
      <li>TEE attestation verification</li>
      <li>Production-ready deployment</li>
    </ul>
    <p className="mt-4 text-xs text-blue-700">
      This tutorial walks you through deploying a Node.js/TypeScript application to dstack's Trusted Execution Environment infrastructure. Perfect for APIs, real-time applications, and microservices.
    </p>
  </div>

  <div className="bg-green-50 border border-green-200 rounded-lg p-4">
    <h2 className="font-semibold text-green-900 mb-2">Prerequisites</h2>
    <ul className="list-disc list-inside text-sm text-green-900 space-y-1">
      <li>Node.js 18+ installed locally</li>
      <li>Docker installed for containerization</li>
      <li>Basic command line knowledge</li>
      <li>A container registry account (Docker Hub, GitHub Container Registry, etc.)</li>
    </ul>
  </div>

</div>

## Step 1: Create Your Application

### Project Setup

Create a new directory for your project:

```bash
mkdir secure-nodejs-app && cd secure-nodejs-app
npm init -y
```

### Install Dependencies

```bash
npm install express cors
npm install --save-dev typescript @types/express @types/cors @types/node
```

### Application Code

Create `src/app.ts`:

```typescript
import express from 'express';
import cors from 'cors';

const app = express();
const PORT = process.env.PORT || 8080;

app.use(cors());
app.use(express.json());

app.get('/', (req, res) => {
  res.json({
    status: 'healthy',
    message: 'TEE Node.js application running',
    secure: true,
    timestamp: new Date().toISOString(),
    environment: 'dstack-tee'
  });
});

app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    tee_enabled: true,
    secure_environment: true,
    attestation_available: true
  });
});

app.post('/api/compute', (req, res) => {
  const { data } = req.body;
  
  // Your secure computation logic here
  const result = {
    processed: true,
    secure_computation: 'completed',
    result: `Securely processed: ${JSON.stringify(data)}`,
    tee_protected: true
  };
  
  res.json(result);
});

app.listen(PORT, '0.0.0.0', () => {
  console.log(`TEE application running on port ${PORT}`);
});
```

### TypeScript Configuration

Create `tsconfig.json`:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

### Update Package.json Scripts

```json
{
  "scripts": {
    "build": "tsc",
    "start": "node dist/app.js",
    "dev": "tsc && node dist/app.js"
  }
}
```

## Step 2: Containerize for dstack

### Create Dockerfile

```dockerfile
FROM node:18-alpine

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci --only=production

# Copy source code
COPY . .

# Build TypeScript
RUN npm run build

# Create non-root user
RUN addgroup -g 1001 -S nodejs
RUN adduser -S dstack -u 1001
USER dstack

# Expose port
EXPOSE 8080

# Health check
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:8080/health || exit 1

# Start application
CMD ["npm", "start"]
```

### Create Docker Compose

```yaml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "8080:8080"
    environment:
      - NODE_ENV=production
      - TEE_ENVIRONMENT=dstack
      - LOG_LEVEL=info
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '2'
          memory: 2G
        reservations:
          cpus: '1'
          memory: 1G
```

## Step 3: Deploy to dstack

### Build and Push Container

```bash
# Build the Docker image
docker build -t your-registry/nodejs-tee-app:latest .

# Push to your container registry
docker push your-registry/nodejs-tee-app:latest
```

### Deploy to dstack Infrastructure

For quick testing with a cloud partner (recommended):

```bash
# Example using a dstack-compatible cloud provider
# Note: This example uses a third-party service to demonstrate dstack capabilities

# Authenticate with your chosen cloud provider
cloud-cli auth login YOUR_API_TOKEN

# Deploy your container to TEE infrastructure
cloud-cli deploy create \
  --name nodejs-tee-app \
  --image your-registry/nodejs-tee-app:latest \
  --port 8080 \
  --tee-enabled

# Check deployment status
cloud-cli deploy status nodejs-tee-app
```

### For Self-Hosted dstack

If you have your own dstack infrastructure:

```bash
# Deploy using dstack CLI
dstack deploy \
  --name nodejs-tee-app \
  --compose docker-compose.yml \
  --tee-enabled

# Monitor deployment
dstack status nodejs-tee-app
```

## Step 4: Test Your Deployment

### Verify Application Health

```bash
# Get your application URL
APP_URL=$(cloud-cli deploy describe nodejs-tee-app --format json | jq -r '.endpoint')

# Test health endpoint
curl $APP_URL/health

# Test secure computation
curl -X POST $APP_URL/api/compute \
  -H "Content-Type: application/json" \
  -d '{"data": "sensitive information"}'
```

### Verify TEE Security

```bash
# Check TEE attestation (if available)
curl $APP_URL/attestation

# Verify secure environment
curl $APP_URL/ | jq '.secure'
```

## Step 5: Application Management

### Update Script

Create `update.sh`:

```bash
#!/bin/bash
set -e

APP_NAME="nodejs-tee-app"
IMAGE_NAME="your-registry/nodejs-tee-app"

echo "updating application..."

# Pull latest code
git pull origin main

# Install dependencies
npm install

# Run tests
npm test

# Build application
npm run build

# Build and push new image
docker build -t $IMAGE_NAME:latest .
docker push $IMAGE_NAME:latest

# Update deployment
cloud-cli deploy update \
  --name $APP_NAME \
  --image $IMAGE_NAME:latest

echo "application updated successfully!"
```

### Monitoring Commands

```bash
# View logs
cloud-cli deploy logs nodejs-tee-app --follow

# Check resource usage
cloud-cli deploy stats nodejs-tee-app

# Scale if needed
cloud-cli deploy scale nodejs-tee-app --cpu 4 --memory 4G
```

## What's Next?

Your Node.js application is now running in a hardware-secured TEE environment with:

✅ **Memory encryption** - Application data protected by hardware
✅ **Secure computation** - Processing happens in isolated environment  
✅ **Attestation support** - Cryptographic proof of security
✅ **Production endpoints** - HTTPS-enabled secure access

### Continue Learning

- [Advanced dstack Features](/docs/concepts/overview)
- [Security Model](/docs/concepts/security-model)
- [Production Deployment](/docs/deployment-guides/deploying-applications)
- [Python Tutorial](/docs/tutorials/python-example)
- [Rust Tutorial](/docs/tutorials/rust-example) 