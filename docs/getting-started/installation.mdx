---

title: "Installation"
description: "Set up dstack on your server with our comprehensive installation guide"
---

# Installation Guide

<div className="bg-amber-50 border-l-4 border-amber-400 p-4 mb-6">
  <div className="flex">
    <div className="ml-3">
      <p className="text-sm text-amber-700">
        <strong>â±ï¸ Time Commitment:</strong> 2â€‘8&nbsp;hours depending on your Linux experience and hardware setup.
      </p>
      <p className="text-sm text-amber-700 mt-2">
        <strong>Want to see dstack in action first?</strong> Try our <a href="/docs/tutorials/super-quick-start" className="underline font-medium">Super&nbsp;Quick&nbsp;Start</a> to deploy on Phala&nbsp;Cloud in minutes, then return here to build your own infrastructure.
      </p>
    </div>
  </div>
</div>

This guide walks you through installing and configuring **dstack** on **LinuxÂ systems only**. Selfâ€‘hosted dstack requires Linux because it integrates with kernelâ€‘level security features, container runtimes, and TEE hardware management.

---

## Prerequisites

### Essential Checklist

* **Bareâ€‘metal server with Intelâ€¯TDX** â€” follow the [canonical/tdx](https://github.com/canonical/tdx) guide to prepare firmware. Virtual machines are **not** supported for confidential workloads.
* **Public IPv4 address** so the server can be reached from the internet.
* **Hardware** â€” minimum **16â€¯GBâ€¯RAM** & **100â€¯GB** free disk; 32â€¯GB+ RAM and NVMe storage recommended.
* **Domain name with DNS access** for HTTPS and the dstack gateway.
* **RustÂ &Â Cargo** â€” some components compile from source. Install via the [official Rust installer](https://www.rust-lang.org/tools/install).
* **Node.jsÂ &Â npm** â€” required for deploying/interacting with smart contracts. Install from [nodejs.org](https://nodejs.org/).

### Linux Requirement

Selfâ€‘hosting works **exclusively** on Linux for:

* Kernelâ€‘module access to Intelâ€¯TDX
* Container runtime hooks & network namespaces
* Hardware securityâ€‘module (HSM) integration

**Supported distributions**:

* UbuntuÂ 24.04Â LTSÂ (strongly recommended)
* UbuntuÂ 22.04Â LTSÂ (supported)

> ğŸ’¡ *New to TDX or bareâ€‘metal Linux?* Start with our <a href="/docs/tutorials/super-quick-start" className="underline font-medium">SuperÂ QuickÂ Start</a> on PhalaÂ Cloud, then come back when youâ€™re ready.

### Hardware Matrix

| Component   | Minimum        | Recommended                                   |
| ----------- | -------------- | --------------------------------------------- |
| **CPU**     | Intel with TDX | IntelÂ XeonÂ 4thâ€¯Gen (SapphireÂ Rapids) or newer |
| **RAM**     | 16â€¯GB          | 32â€¯GBÂ +                                       |
| **Storage** | 100â€¯GBÂ SSD     | 500â€¯GBÂ NVMeÂ SSD                               |
| **Network** | 1â€¯Gbps         | 10â€¯Gbps                                       |

<details>
<summary>Verify Intelâ€¯TDX support</summary>

```bash
# CPU capabilities
grep -E 'tdx|TDX' /proc/cpuinfo

# Kernel module
sudo dmesg | grep -i tdx
```

If both commands return TDXâ€‘related output, your hardware & kernel are TDXâ€‘ready.

</details>

### Network Ports

| Port  | Service   | Direction | Purpose                     |
| ----- | --------- | --------- | --------------------------- |
| 9080  | WebÂ UI    | Inbound   | dstack management interface |
| 9090  | API       | Inbound   | Application API access      |
| 443   | HTTPS     | Inbound   | Secure app access           |
| 80    | HTTP      | Inbound   | Redirect HTTPâ†’HTTPS         |
| 51820 | WireGuard | In/Out    | Secure VPN tunnels          |

### Software Versions

* **Linuxâ€¯kernel** â‰¥Â 5.15 withâ€¯TDX patches
* **Docker** *not required* â€” dstack embeds its own container manager.

---

## Stepâ€‘byâ€‘Step Installation

### 1. Update your server

```bash
sudo apt update && sudo apt upgrade -y
```

### 2. Install prerequisite packages

```bash
# Kernel headers, WireGuard, and build essentials
sudo apt install -y linux-headers-$(uname -r) build-essential wireguard
```

### 3. Install the dstack runtime

You can either use the prebuilt DEB package **or** build from source:


Optionâ€¯A â€” Prebuilt package (fastest)

```bash
curl -LO https://downloads.dstack.io/latest/dstack_amd64.deb
sudo dpkg -i dstack_amd64.deb
```




Optionâ€¯B â€” Build from source (requires Rust & Cargo)

```bash
cargo install --git https://github.com/dstackio/dstack-runtime.git dstack
```



### 4. Configure environment

Create an `.env` file at **/etc/dstack/.env**:

```bash
# /etc/dstack/.env
DSTACK_DOMAIN=example.com
DSTACK_EMAIL=admin@example.com   # for automatic Let's Encrypt
DSTACK_API_PORT=9090
DSTACK_UI_PORT=9080
```

### 5. Set up systemd service

```bash
sudo tee /etc/systemd/system/dstack.service >/dev/null <<'EOF'
[Unit]
Description=dstack Runtime
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
EnvironmentFile=/etc/dstack/.env
ExecStart=/usr/local/bin/dstack run --domain $DSTACK_DOMAIN --email $DSTACK_EMAIL
Restart=on-failure
RestartSec=3

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl daemon-reload
sudo systemctl enable --now dstack
```

### 6. Harden the firewall (UFW example)

```bash
sudo ufw allow 80,443,9080,9090/tcp
sudo ufw allow 51820/udp
sudo ufw enable
```

### 7. Verify the installation

```bash
# Health check
curl -f https://<your-domain>/api/healthz
```

A `200 OK` response confirms dstack is running. Visit **https\://\<yourâ€‘domain>** to access the WebÂ UI.

---

## Next Steps

1. **Deploy your first enclave app** â€” follow the <a href="/docs/tutorials/deployâ€‘helloâ€‘world" className="underline">HelloÂ World Tutorial</a>.
2. **Integrate GitHubâ€¯CI/CD** â€” automate container builds with our <a href="/docs/guides/githubâ€‘actions" className="underline">GitHubÂ Actions guide</a>.
3. **Monitor & scale** â€” explore advanced features in <a href="/docs/operations" className="underline">Operations</a>.

Need help? Join the <a href="https://discord.gg/dstack" className="underline">dstack Discord</a> community.
