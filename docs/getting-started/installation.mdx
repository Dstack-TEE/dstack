---

title: "Installation"
description: "Set up dstack on your server with our comprehensive installation guide"
---

# Installation Guide

<div className="bg-amber-50 border-l-4 border-amber-400 p-4 mb-6">
  <div className="flex">
    <div className="ml-3">
      <p className="text-sm text-amber-700">
        <strong>⏱️ Time Commitment:</strong> 2‑8&nbsp;hours depending on your Linux experience and hardware setup.
      </p>
      <p className="text-sm text-amber-700 mt-2">
        <strong>Want to see dstack in action first?</strong> Try our <a href="/docs/tutorials/super-quick-start" className="underline font-medium">Super&nbsp;Quick&nbsp;Start</a> to deploy on Phala&nbsp;Cloud in minutes, then return here to build your own infrastructure.
      </p>
    </div>
  </div>
</div>

This guide walks you through installing and configuring **dstack** on **Linux systems only**. Self‑hosted dstack requires Linux because it integrates with kernel‑level security features, container runtimes, and TEE hardware management.

---

## Prerequisites

### Essential Checklist

* **Bare‑metal server with Intel TDX** — follow the [canonical/tdx](https://github.com/canonical/tdx) guide to prepare firmware. Virtual machines are **not** supported for confidential workloads.
* **Public IPv4 address** so the server can be reached from the internet.
* **Hardware** — minimum **16 GB RAM** & **100 GB** free disk; 32 GB+ RAM and NVMe storage recommended.
* **Domain name with DNS access** for HTTPS and the dstack gateway.
* **Rust & Cargo** — some components compile from source. Install via the [official Rust installer](https://www.rust-lang.org/tools/install).
* **Node.js & npm** — required for deploying/interacting with smart contracts. Install from [nodejs.org](https://nodejs.org/).

### Linux Requirement

Self‑hosting works **exclusively** on Linux for:

* Kernel‑module access to Intel TDX
* Container runtime hooks & network namespaces
* Hardware security‑module (HSM) integration

**Supported distributions**:

* Ubuntu 24.04 LTS (strongly recommended)
* Ubuntu 22.04 LTS (supported)

> 💡 *New to TDX or bare‑metal Linux?* Start with our <a href="/docs/tutorials/super-quick-start" className="underline font-medium">Super Quick Start</a> on Phala Cloud, then come back when you’re ready.

### Hardware Matrix

| Component   | Minimum        | Recommended                                   |
| ----------- | -------------- | --------------------------------------------- |
| **CPU**     | Intel with TDX | Intel Xeon 4th Gen (Sapphire Rapids) or newer |
| **RAM**     | 16 GB          | 32 GB +                                       |
| **Storage** | 100 GB SSD     | 500 GB NVMe SSD                               |
| **Network** | 1 Gbps         | 10 Gbps                                       |

<details>
<summary>Verify Intel TDX support</summary>

```bash
# CPU capabilities
grep -E 'tdx|TDX' /proc/cpuinfo

# Kernel module
sudo dmesg | grep -i tdx
```

If both commands return TDX‑related output, your hardware & kernel are TDX‑ready.

</details>

### Network Ports

| Port  | Service   | Direction | Purpose                     |
| ----- | --------- | --------- | --------------------------- |
| 9080  | Web UI    | Inbound   | dstack management interface |
| 9090  | API       | Inbound   | Application API access      |
| 443   | HTTPS     | Inbound   | Secure app access           |
| 80    | HTTP      | Inbound   | Redirect HTTP→HTTPS         |
| 51820 | WireGuard | In/Out    | Secure VPN tunnels          |

### Software Versions

* **Linux kernel** ≥ 5.15 with TDX patches
* **Docker** *not required* — dstack embeds its own container manager.

---

## Step‑by‑Step Installation

### 1. Update your server

```bash
sudo apt update && sudo apt upgrade -y
```

### 2. Install prerequisite packages

```bash
# Kernel headers, WireGuard, and build essentials
sudo apt install -y linux-headers-$(uname -r) build-essential wireguard
```

### 3. Install the dstack runtime

You can either use the prebuilt DEB package **or** build from source:


Option A — Prebuilt package (fastest)

```bash
curl -LO https://downloads.dstack.io/latest/dstack_amd64.deb
sudo dpkg -i dstack_amd64.deb
```




Option B — Build from source (requires Rust & Cargo)

```bash
cargo install --git https://github.com/dstackio/dstack-runtime.git dstack
```



### 4. Configure environment

Create an `.env` file at **/etc/dstack/.env**:

```bash
# /etc/dstack/.env
DSTACK_DOMAIN=example.com
DSTACK_EMAIL=admin@example.com   # for automatic Let's Encrypt
DSTACK_API_PORT=9090
DSTACK_UI_PORT=9080
```

### 5. Set up systemd service

```bash
sudo tee /etc/systemd/system/dstack.service >/dev/null <<'EOF'
[Unit]
Description=dstack Runtime
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
EnvironmentFile=/etc/dstack/.env
ExecStart=/usr/local/bin/dstack run --domain $DSTACK_DOMAIN --email $DSTACK_EMAIL
Restart=on-failure
RestartSec=3

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl daemon-reload
sudo systemctl enable --now dstack
```

### 6. Harden the firewall (UFW example)

```bash
sudo ufw allow 80,443,9080,9090/tcp
sudo ufw allow 51820/udp
sudo ufw enable
```

### 7. Verify the installation

```bash
# Health check
curl -f https://<your-domain>/api/healthz
```

A `200 OK` response confirms dstack is running. Visit **https\://\<your‑domain>** to access the Web UI.

---

## Next Steps

1. **Deploy your first enclave app** — follow the <a href="/docs/tutorials/deploy‑hello‑world" className="underline">Hello World Tutorial</a>.
2. **Integrate GitHub CI/CD** — automate container builds with our <a href="/docs/guides/github‑actions" className="underline">GitHub Actions guide</a>.
3. **Monitor & scale** — explore advanced features in <a href="/docs/operations" className="underline">Operations</a>.

Need help? Join the <a href="https://discord.gg/dstack" className="underline">dstack Discord</a> community.
